#!/usr/bin/env bash
set -e

CYAN="\033[36m"
GREEN="\033[32m"
BLUE="\033[34m"
BOLD="\033[1m"
RESET="\033[0m"

echo -e "${CYAN}"
echo "    ██████╗ ██████╗ ███╗   ███╗███╗   ███╗ █████╗ ███╗   ██╗██████╗ ███████╗"
echo "   ██╔════╝██╔═══██╗████╗ ████║████╗ ████║██╔══██╗████╗  ██║██╔══██╗██╔════╝"
echo "   ██║     ██║   ██║██╔████╔██║██╔████╔██║███████║██╔██╗ ██║██║  ██║███████╗"
echo "   ██║     ██║   ██║██║╚██╔╝██║██║╚██╔╝██║██╔══██║██║╚██╗██║██║  ██║╚════██║"
echo "   ╚██████╗╚██████╔╝██║ ╚═╝ ██║██║ ╚═╝ ██║██║  ██║██║ ╚████║██████╔╝███████║"
echo "    ╚═════╝ ╚═════╝ ╚═╝     ╚═╝╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═══╝╚═════╝ ╚══════╝"
echo "    "
echo "    ██╗    ██╗██████╗  █████╗ ██████╗ ██████╗ ███████╗██████╗           "
echo "    ██║    ██║██╔══██╗██╔══██╗██╔══██╗██╔══██╗██╔════╝██╔══██╗          "
echo "    ██║ █╗ ██║██████╔╝███████║██████╔╝██████╔╝█████╗  ██████╔╝          "
echo "    ██║███╗██║██╔══██╗██╔══██║██╔═══╝ ██╔═══╝ ██╔══╝  ██╔══██╗          "
echo "    ╚███╔███╔╝██║  ██║██║  ██║██║     ██║     ███████╗██║  ██║          "
echo "     ╚══╝╚══╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝     ╚══════╝╚═╝  ╚═╝          "
echo -e "${RESET}"

pip uninstall commands-wrapper --break-system-packages -y > /dev/null 2>&1 || true



pip install -e . --break-system-packages > /dev/null 2>&1


chmod +x .commands-wrapper/commands-wrapper

echo -e "\n${GREEN}[✓] Deployment complete.${RESET}"
